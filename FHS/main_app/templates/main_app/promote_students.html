<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Students and Teachers</title>
  <style>
    /* Full-screen layout */
    :root {
      --bg: #0b1020;
      --card: #121a2b;
      --text: #e8edf8;
      --muted: #9fb0d0;
      --accent: #4da3ff;
      --grid: rgba(255,255,255,0.06);
      --row-hover: rgba(77,163,255,0.10);
      --row-alt: rgba(255,255,255,0.03);
      --border: rgba(255,255,255,0.12);
      --radius: 16px;
    }
    html, body {
      height: 100%;
      margin: 0;
      background: radial-gradient(1200px 800px at 20% -10%, #142041 0%, var(--bg) 45%),
                  radial-gradient(1000px 700px at 110% 40%, #0d162e 0%, var(--bg) 60%),
                  var(--bg);
      color: var(--text);
      font: 15px/1.5 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
    }

    /* Page shell */
    .page {
      min-height: 100%;
      display: grid;
      grid-template-rows: auto 1fr;
      gap: 18px;
      padding: 24px clamp(16px, 4vw, 48px);
    }
    .header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 16px;
    }
    .title {
      font-size: clamp(20px, 3vw, 28px);
      font-weight: 650;
      letter-spacing: 0.2px;
    }
    .subtitle {
      color: var(--muted);
      font-size: 13px;
    }

    /* Card + table wrapper */
    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.03) 100%), var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: 0 10px 24px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.05);
      min-height: 0;
      display: flex;
      flex-direction: column;
    }
    .table-wrap {
      overflow: auto;      /* horizontal/vertical scroll if needed */
      padding: 8px;
      border-radius: calc(var(--radius) - 4px);
    }

    /* Table */
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      min-width: 720px;    /* keep columns readable on narrow screens */
      background:
        linear-gradient(var(--grid), var(--grid)) left top / 100% 1px no-repeat,
        linear-gradient(90deg, var(--grid), var(--grid)) left top / 1px 100% no-repeat;
    }
    thead th {
      position: sticky;
      top: 0;
      z-index: 1;
      background: linear-gradient(180deg, rgba(13,21,41,0.9), rgba(13,21,41,0.85));
      backdrop-filter: blur(4px);
      color: var(--muted);
      text-align: left;
      font-weight: 600;
      font-size: 12.5px;
      letter-spacing: .4px;
      text-transform: uppercase;
      border-bottom: 1px solid var(--border);
      padding: 14px 14px;
      white-space: nowrap;
    }
    tbody td {
      padding: 14px 14px;
      border-bottom: 1px solid var(--border);
    }
    tbody tr:nth-child(even) td {
      background: var(--row-alt);
    }
    tbody tr:hover td {
      background: var(--row-hover);
    }

    /* Chips & small UI bits */
    .chip {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.04);
      font-size: 12px;
      color: var(--text);
    }
    .mono { font-variant-numeric: tabular-nums; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
    .accent { color: var(--accent); }

    /* Empty state */
    .empty {
      padding: 48px;
      text-align: center;
      color: var(--muted);
    }
  </style>
</head>
<body>
  <div class="page">
    <div class="header">
      <div class="title">Students</div>
      <div class="subtitle">
        Total: <span class="accent">{{ devices|length }}</span>
      </div>
    </div>

    <div class="card">
      {% if users %}
        <div class="table-wrap">
          <table role="table" aria-label="Devices table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              {% for u in users %}
              <tr>
                <td class="mono">
                    <a href="{% url 'student_profile' u.pk %}" style="color: var(--accent); text-decoration: none;">{{ u.first_name }}</a>    
                </td>
                <td class="mono">{{ u.email }}</td>
                <td>
                  {% if u.is_active %}
                    <span class="chip">Active</span>
                  {% else %}
                    <span class="chip" style="opacity:.7">Inactive</span>
                  {% endif %}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      {% else %}
        <div class="empty">
          No Students/Teachers.
        </div>
      {% endif %}
    </div>
  </div>
</body>
</html>