<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <title>UWC ISAK H-RACS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Cirrus & Fonts -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:200,300,400,600,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cirrus-ui/dist/cirrus.min.css">

  <!-- Custom Dark Mode CSS -->
<style>
  /* Default (light mode) colors are provided by Cirrus */
  /* Dark mode overrides */
  html[data-theme="dark"] body {
    background-color: #121212;
    color: #e0e0e0;
  }
  html[data-theme="dark"] .card {
    background-color: #1e1e1e;
    color: #e0e0e0;
  }
  html[data-theme="dark"] .card__header p,
  html[data-theme="dark"] .card__body p {
    color: #e0e0e0;
  }
  html[data-theme="dark"] h1 {
    color: #e0e0e0;
  }
  html[data-theme="dark"] .btn--dark {
    background-color: #333;
    color: #fff;
  }

  /* Style inputs for dark mode */
  html[data-theme="dark"] .card input[type="text"] {
    background-color: #2c2c2c;
    color: #e0e0e0;
    border: none;
    border-bottom: 1px solid #555; /* Lighter border color for dark mode */
  }

  html[data-theme="dark"] .card input[type="text"]:focus {
    outline: none;
    border-bottom: 1px solid #fff; /* Highlight border on focus */
  }

  /* Position the button at the bottom-right corner */
  .dark-mode-toggle {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #333;
    color: white;
    border: none;
    border-radius: 50%;  /* This makes the button circular */
    padding: 15px;  /* Increased padding to make it more circular */
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* Optional: You can tweak the moon icon size to ensure it's centered inside the circle */
  .dark-mode-toggle i {
    margin: 0;
  }
</style>
</head>
<body class="content">

  <!-- Header with Dark Mode Toggle -->
  <h1 class="u-text-left u-text-bold u-text-2xl">UWC ISAK H-RACS</h1>
  <h4 class="u-text-left u-text-bold u-text-2xl">Welcome Nhan</h4>
  <div class="u-mb-0">
    <button class="btn-success" id="saveButton">Save changes</button>
  </div>

<div class="u-flex u-flex-wrap u-justify-start px-4 py-3">
  {% for room in room_info %}
    <!-- Room Card -->
    <div class="card u-round-lg u-shadow-lg my-4 mx-3 px-4 py-3" style="max-width: 250px;">
      <header class="card__header">
        <p class="u-text-bold u-text-xl">{{ room[0] }}</p>
      </header>
      <div class="card__body">
        <!-- Current Temp (non-editable, with input aesthetics) -->
        <div class="u-text-md">
          Current Temp:
          <input type="text" value="{{ room[1] }}" class="u-text-md u-border-0 u-bg-transparent" style="border-bottom: 1px solid #ccc;" readonly>
        </div>
        <!-- Ideal Temp (editable) -->
        <div class="u-text-md">
          Ideal Temp:
          <input type="text" value="{{ room[2] }}" class="u-text-md u-border-0 u-bg-transparent" style="border-bottom: 1px solid #ccc;">
        </div>
        <!-- Wake (editable) -->
        <div class="u-text-md">
          Wake:
          <input type="text" value="{{ room[3] | seconds_to_time}}" class="u-text-md u-border-0 u-bg-transparent" style="border-bottom: 1px solid #ccc;">
        </div>
        <!-- Sleep (editable) -->
        <div class="u-text-md">
          Sleep:
          <input type="text" value="{{ room[4] | seconds_to_time }}" class="u-text-md u-border-0 u-bg-transparent" style="border-bottom: 1px solid #ccc;">
        </div>
      </div>
    </div>
  {% endfor %}
</div>
  <!-- Dark Mode Toggle Button (Bottom-right) -->
  <button class="dark-mode-toggle" onclick="toggleDarkMode()">
    <i class="fas fa-moon"></i>
  </button>

  <!-- Dark Mode Toggle Script -->
  <script>
    function toggleDarkMode() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute("data-theme");
      html.setAttribute("data-theme", currentTheme === "dark" ? "light" : "dark");
    }
  </script>

</body>
</html>
